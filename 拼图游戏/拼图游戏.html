<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>拼图游戏</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>
<body>
<div class="wrap">
	<div class="topInfo clear">
		<ul class="left">
			<li id="gameRule">
				<h3>游戏介绍：</h3>
	            <p>1、点击游戏难度以更改</p>
	            <p>2、点击开始游戏，打乱图片</p>
	            <p>3、交换图片位置，复原图片</p>
	            <p class="btn clear">
	            	<a href="javascript:;">开始游戏</a>
	            	<a href="javascript:;">难度选择</a>
                    <select class="target">
                        <option value="{&quot;row&quot;:3,&quot;col&quot;:3}" selected="selected">3 * 3</option>
                        <option value="{&quot;row&quot;:6,&quot;col&quot;:6}">6 * 6</option>
                        <option value="{&quot;row&quot;:9,&quot;col&quot;:9}">9 * 9</option>
                    </select>
	            </p>
       		</li>
		</ul>
		<div class="right">
			<img src="./images/img.jpg" alt="" />
		</div>
	</div>
	<div class="gameArea">
		<ul class="list">
			<!-- <li></li> -->
		</ul>
	</div>
</div>
<script>
var list = document.querySelector('.list');
var arr = [Math.ceil(600/9),600/6,600/3]
var str = '';
var n = -1;
var m = -1;

//3*3的结构

for( var i = 0; i < 9; i++ ){
    if( i % 3 == 0 ){
        n++;
    }
    str += `<li style="width:${arr[2]}px;height:${arr[2]}px;left:${(i%3)*arr[2]}px;top:${n*arr[2]}px;background-position:${(-i%3)*arr[2]}px ${-n*arr[2]}px;background-size:600px 600px;"></li>`;
} 

list.innerHTML = str;

//点击“难度选择”按钮
var btn2 = document.querySelector('.btn a:nth-child(2)');
var selects = document.querySelectorAll('option');

btn2.onclick = function (){
    str = '';
    m++;
    if( m > 2) m = 0;

    selects[m].selected = true;
    if(m == 0){
            console.log("m=0:"+m)
        for( var i = 0; i < 6; i++ ){
            if( i % 3 == 0 ){
                n++;
            }
            str += `<li style="width:${arr[2]}px;height:${arr[2]}px;left:${(i%3)*arr[2]}px;top:${n*arr[2]}px;background-position:${(-i%3)*arr[2]}px ${-n*arr[2]}px;background-size:600px 600px;"></li>`;
        } 
    }
    if(m == 1){
        console.log("m=1:"+m)
        for( var i = 0; i < 36; i++ ){
            if( i % 6 == 0 ){
                n++;
            }
            str += `<li style="width:${arr[1]}px;height:${arr[1]}px;left:${(i%6)*arr[1]}px;top:${n*arr[1]}px;background-position:${(-i%6)*arr[1]}px ${-n*arr[1]}px;"></li>`;
        } 
        return str
    }
    if(m == 2){
        console.log("m=2:"+m)
        for( var i = 0; i < 81; i++ ){
            if( i % 9 == 0 ){
                n++;
            }
            str += `<li style="width:${arr[0]}px;height:${arr[0]}px;left:${(i%9)*arr[0]}px;top:${n*arr[0]}px;background-position:${(-i%9)*arr[0]}px ${-n*arr[0]}px;"></li>`;
        } 
    }
    list.innerHTML = str;
}

</script>
</body>
</html>